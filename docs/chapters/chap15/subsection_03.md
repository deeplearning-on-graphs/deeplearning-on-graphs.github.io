[メインページ](../../index.markdown)

[章目次](./chap15.md)
## 15.3. ソースコード表現の学習

機械学習の技術は, 変数の誤用検出やソフトウェアの脆弱性検出など, ソースコードに関する様々なタスクの自動化に用いられている. ソースコードを表現する自然な方法は, ソースコードを特定の言語の「記事」として扱うことである. そして自然言語処理用に設計された技術をソースコードに転用する. しかし, ソースコードを, トークンの列として表現することは, 通常うまくいかず, コード内の構文や意味的な関係を捉えることができない. 近年, ソースコードをグラフとして表現しようとする試みが増えてきており, 後段のタスクに使える表現を学習するのにグラフニューラルネットワークが用いられてきた. 次に, 後段のタスクについて説明し, これらに取り組むためにどのようにグラフニューラルネットワークが用いられるかについて説明する.

ソードコードからグラフを構成する方法は様々である. 代表的なものを以下に示す(Zhou et al., 2019):

-   **抽象構文木(Abstract Syntax Tree, AST)**

    プログラムのグラフ表現として一般的なものとして, 抽象構文木がある. これはソースコードの抽象的な構文の構造をエンコードしている. 通常, ASTはコードパーサーがコードの構造を理解し, 構文エラーを見つけるために用いられている. ASTのノードは構文ノード(プログラミング言語における非終端記号に対応)と構文トークン(終端記号に対応)で構成される. 有向エッジを用いて, 子・親関係を表現する.

-   **制御フローグラフ(Control Flow Graph, CFG)**

    制御フローグラフは, プログラムが実行される際に通過する可能性のある全ての経路を記述する. CFGはステートメント文と条件をノードとして構成される. *if*や*switch*などの条件文は, 異なる経路を形成する鍵となるノードである. CFGにおけるエッジは, ステートメント文間の制御の受け渡しを表す

-   **データフローグラフ(Data Flow Graph, DFG)**

    データフローグラフは, プログラム内で変数がどのように用いられているかを表す. 変数をノードとし, エッジはこれら変数に対するアクセスや変更を表す.

-   **自然コード列(Natural Code Sequence, NCS)** NCSはコードの列であり, エッジは, ソースコード内の順番にしたがって隣接するコードトークン間をつなぐ.

これらのグラフをさらに統合して, プログラムに関する構文的・意味的情報をいずれもエンコードした, より包括的なグラフを形成することもできる. 与えられたプログラムに対して構築されたグラフに基づいて, グラフニューラルネットワークを用いることで様々なタスクを行うことができる. グラフニューラルネットワークは通常, ノードやグラフの表現を学習するのに用いられ, これらのタスクを実行する. プログラムにおける変数の誤用検出(Allamanis et al., 2017)のようなグラフ内のノードに注目したタスクや, ソフトウェアの脆弱性検出(Zhou et al., 2019)のようなプログラムグラフ全体に注目したタスクがある.


[メインページ](../../index.markdown)

[章目次](./chap15.md)

[前の節へ](./subsection_02.md) [次の節へ](./subsection_04.md)


